# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp
tmp[[value]]
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp[[value]]
value
tmp[[value]]
key
source('~/OneDrive/who/projects/2016_haiti/functions.R')
tmp <-
df_pie_cas_vus[[1]] %>%
mutate(n = value) %>%
select(- value)
tmp
PlotBar(tmp, key = 'commune', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key)
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp[['value']]
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp[['value']]
tmp[['key']]
tmp
source('~/OneDrive/who/projects/2016_haiti/functions.R')
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp
tmp[[key]]
tmp[[key]] <- fct_rev(tmp[[key]])
tmp[[key]]
tmp[[key]] <- forcats::fct_rev(tmp[[key]])
tmp[[key]]
tmp[[key]] <- forcats::fct_rev(tmp[[key]])
tmp[[key]]
source('~/OneDrive/who/projects/2016_haiti/functions.R')
tmp <-
df_pie_cas_vus[[1]] %>%
mutate(n = value) %>%
select(- value)
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp
facet_var
tmp[[facet_var]] <- forcats::fct_rev(tmp[[facet_var]])
tmp[[facet_var]]
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp[[facet_var]]
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp[[facet_var]]
tmp[[facet_var]] <- forcats::fct_rev(tmp[[facet_var]])
tmp[[facet_var]]
ggplot(tmp) +
geom_bar(aes_(~ x = facet_var, y = prop, fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = ~facet_var, y = prop, fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = ~facet_var, y = 'prop', fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = ~facet_var, y = 'prop', fill = ~key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = quote(facet_var), y = 'prop', fill = ~key), stat = 'identity')
quote(facet_var)
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = ~key), stat = 'identity')
key
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = as.name(key)), stat = 'identity')
value
tmp
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
source('~/OneDrive/who/projects/2016_haiti/functions.R')
tmp <-
df_pie_cas_vus[[1]] %>%
mutate(n = value) %>%
select(- value)
tmp
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
tmp
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value))) %>%
mutate(prop = value/sum(value))
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value))) %>%
mutate(prop = round(value/sum(value)))
tmp
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value)))
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value))) %>%
mutate(prop = round(value/sum(value), 1))
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value))) %>%
mutate(prop = round(value/sum(value), 2))
tmp
tmp[[facet_var]]
tmp[[facet_var]] <- forcats::fct_rev(tmp[[facet_var]])
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = as.name(key)), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = facet_var, y = as.name(prop), fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = facet_var, y = quote(prop), fill = key), stat = 'identity')
tmp
key
ggplot(tmp) +
geom_bar(aes_(x = facet_var, y = quote(prop), fill = quote(key)), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = quote(facet_var), y = quote(prop), fill = quote(key)), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = quote(prop), fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = facet_var, y = quote(prop), fill = key), stat = 'identity')
facet_var
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = quote(prop), fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = quote(facet_var), y = quote(prop), fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = prop, fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = ~prop, fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = ~prop, fill = quote(key)), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = ~prop, fill = as.name(key)), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
) +
scale_y_continuous(labels = scales::percent) +
coord_flip()
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = as.name(key)), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
) +
scale_y_continuous(labels = scales::percent) +
coord_flip() +
ggthemes::theme_tufte(base_family = 'Palatino') +
theme(
panel.border = element_blank(),
plot.title = element_text(size = 12, face = 'bold', color = 'darkblue'),
legend.key = element_blank(),
axis.text.x = element_text(size = 7, angle = 0, hjust = 1, colour = 'black'),
legend.position = 'bottom',
legend.title = element_blank(),
axis.ticks = element_blank()
) +
labs(title = '', x = '', y = title)
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = as.name(key)), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
) +
scale_y_continuous(labels = scales::percent) +
coord_flip() +
ggthemes::theme_tufte(base_family = 'Palatino')
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = as.name(key)), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
)
ggplot(tmp) +
geom_bar(aes_(x = as.name(facet_var), y = 'prop', fill = as.name(key)), stat = 'identity')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
mutate_(facet_var = forcats::fct_rev(facet_var))
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
mutate_(forcats::fct_rev(facet_var, facet_var))
fct_rev
?fct_rev
tmp <-
data %>%
# arrange_(facet_var) %>%
# mutate_(facet_var = factor(facet_var, levels = fct_rev(facet_var))) %>%
group_by_(facet_var, key) %>%
summarise_(value = lazyeval::interp(~ round(sum(var)), var = as.name(value))) %>%
mutate(prop = round(value/sum(value), 2))
tmp
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
)
source('~/OneDrive/who/projects/2016_haiti/functions.R')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp
source('~/OneDrive/who/projects/2016_haiti/functions.R')
tmp <-
df_pie_cas_vus[[1]] %>%
mutate(n = value) %>%
select(- value)
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity')
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
)
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
)
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[[key]])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[[key]])))
)
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
) +
scale_y_continuous(labels = scales::percent)
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
) +
scale_y_continuous(labels = scales::percent) +
coord_flip() +
ggthemes::theme_tufte(base_family = 'Palatino')
ggplot(tmp) +
geom_bar(aes_string(x = facet_var, y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[['key']])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[['key']])))
) +
scale_y_continuous(labels = scales::percent) +
coord_flip() +
ggthemes::theme_tufte(base_family = 'Palatino') +
theme(
panel.border = element_blank(),
plot.title = element_text(size = 12, face = 'bold', color = 'darkblue'),
legend.key = element_blank(),
axis.text.x = element_text(size = 7, angle = 0, hjust = 1, colour = 'black'),
legend.position = 'bottom',
legend.title = element_blank(),
axis.ticks = element_blank()
) +
labs(title = '', x = '', y = title)
tmp
source('~/OneDrive/who/projects/2016_haiti/functions.R')
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
ggplot(tmp) +
geom_bar(aes_string(x = forcats::fct_rev(facet_var), y = 'prop', fill = key), stat = 'identity') +
scale_fill_manual(
values = if(colour_scheme %in% c('viridis', 'Viridis')) viridis::viridis(length(unique(tmp[[key]])))
else colorRampPalette(RColorBrewer::brewer.pal(9, colour_scheme))(length(unique(tmp[[key]])))
) +
scale_y_continuous(labels = scales::percent) +
coord_flip()
data
data %>%
# arrange_(facet_var) %>%
mutate_(facet_var = forcats::fct_rev(tmp[[facet_var]]))
data %>%
# arrange_(facet_var) %>%
mutate_(facet_var = forcats::fct_rev(.[[facet_var]]))
data %>%
# arrange_(facet_var) %>%
mutate_(facet_var = forcats::fct_rev(facet_var))
data %>%
# arrange_(facet_var) %>%
mutate_(facet_var = forcats::fct_rev(~ facet_var))
data %>%
# arrange_(facet_var) %>%
mutate_(facet_var = forcats::fct_rev(as.name(facet_var)))
data %>%
# arrange_(facet_var) %>%
mutate_(~facet_var = forcats::fct_rev(as.name(facet_var)))
source('~/OneDrive/who/projects/2016_haiti/functions.R')
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
tmp <-
df_pie_cas_vus[[1]] %>%
mutate(n = value) %>%
select(- value)
PlotBar(tmp, key = 'key', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
PlotBar(df_pie_cas_vus[[1]], key = 'date', value = 'n', colour_scheme = 'RdBu', facet_var = 'commune')
df_pie_cas_vus[[1]]
PlotBar(df_pie_cas_vus[[1]], key = 'key', value = 'value', colour_scheme = 'RdBu', facet_var = 'date')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
tmp
PlotBar(df_pie_cas_vus[[1]], key = 'key', value = 'value', colour_scheme = 'RdBu', facet_var = 'date')
df_pie_cas_vus[[1]]
PlotBar(df_pie_cas_vus[[1]], key = 'key', value = 'value', colour_scheme = 'RdBu', facet_var = 'commune')
PlotBar(df_pie_cas_vus[[1]], key = 'key', value = 'value', colour_scheme = 'RdBu', facet_var = 'inst')
PlotBar(df_pie_cas_vus[[1]], key = 'key', value = 'value', colour_scheme = 'RdBu', facet_var = as.character('inst'))
PlotBar(df_pie_cas_vus[[1]], key = 'key', value = 'value', colour_scheme = 'RdBu', facet_var = as.character('date'))
PlotBar(df_pie_cas_vus[[1]], colour_scheme = 'RdBu', facet_var = 'commune')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
map(df_pie_cas_vus, PlotBar, colour_scheme = 'RdBu', facet_var = 'commune')
list_pie_age <- map(df_pie_cas_vus, PlotBar, colour_scheme = 'RdBu', facet_var = 'commune')
list_pie_age
list_bar_age_commune <- map(df_pie_cas_vus, PlotBar, colour_scheme = 'RdBu', facet_var = 'commune')
list_bar_age_commune[[list_depts]]
source('~/OneDrive/who/projects/2016_haiti/functions.R')
source('~/OneDrive/who/projects/2016_haiti/rough.R')
save.image("~/OneDrive/who/projects/2016_haiti/ws.RData")
ls()
ls
list_db_paths <- dir('data', full.names = TRUE)
list_depts <- params$dep_san
list_dat_raw <- map(list_depts, WrangleData) %>% set_names(list_depts)
source('functions.R')
list_db_paths <- dir('data', full.names = TRUE)
list_dat_raw <- map(list_depts, WrangleData) %>% set_names(list_depts)
list_depts <- 'DSGA'
list_dat_raw <- map(list_depts, WrangleData) %>% set_names(list_depts)
list_dat_raw
install.packages("ggrepel")
install.packages("ggrepel")
install.packages("ggTimeSeries")
devtools::install_github('Ather-Energy/ggTimeSeries')
source('~/OneDrive/who/projects/2016_haiti/functions.R')
source('functions.R')
source('functions.R')
list_db_paths <- dir('data', full.names = TRUE)
list_depts <-
list_db_paths[str_detect(list_db_paths, 'Surveillance Cholera_2015_2016')] %>%
str_replace_all(c('data/' = '', '[-_]Surveillance Cholera.*' = ''))
list_depts <- 'DSGA'
list_dat_raw <- map(list_depts, WrangleData) %>% set_names(list_depts)
list_dat <- map(list_dat_raw, MergeAges)
list_hist_day <- map(list_dat, PlotHistDay)
list_hist_day_inst <- map(list_dat, PlotHistDayInst)
df_map <- map(list_dat, WrangleDataMapPopAR)
list_map <- map(df_map, MakeMapAR)
df_pie_cas_vus <- map(list_dat_raw, WrangleDataPie, variable = 'cas_vus')
list_pie_age <- map(df_pie_cas_vus, PlotPie, colour_scheme = 'RdBu', facet_var = 'commune')
data
facet_var
eval(substitute(
data %>%
group_by_(facet_var, key) %>%
summarise(value_sum = round(sum(colname, na.rm = T))),
list(colname = as.symbol(value)))
) %>%
group_by_(facet_var) %>%
mutate(prop = round(value_sum/sum(value_sum) * 100, 1))
eval(substitute(
data %>%
group_by_(key) %>%
summarise(value_sum = round(sum(colname, na.rm = T))),
list(colname = as.symbol(value)))
) %>%
mutate(prop = round(value_sum/sum(value_sum) * 100, 1))
eval(substitute(
data %>%
group_by_(key) %>%
summarise(value_sum = round(sum(colname, na.rm = T))),
list(colname = as.symbol(value)))
) %>%
mutate(prop = round(value_sum/sum(value_sum) * 100, 1))
data %>%
group_by_(key) %>%
summarise(value_sum = eval(substitute(round(sum(colname, na.rm = T))),
list(colname = as.symbol(value)))
) %>%
mutate(prop = round(value_sum/sum(value_sum) * 100, 1))
data %>%
group_by_(key) %>%
summarise(value_sum = round(sum(eval(substitute(colname, na.rm = T))),
list(colname = as.symbol(value)))
) %>%
mutate(prop = round(value_sum/sum(value_sum) * 100, 1))
data %>%
group_by_(key) %>%
eval(substitute(summarise(value_sum = round(sum(colname, na.rm = T))),
list(colname = as.symbol(value)))
) %>%
mutate(prop = round(value_sum/sum(value_sum) * 100, 1))
?lazyeval::interp
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~colname, colname = as.name('value')))
data
data %>%
group_by_(key)
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~colname, colname = as.name('value')))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~colname, colname = as.name(value)))
value
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~colname, colname = quote(value)))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~colname, colname = as.name(value)))
data
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(quote(value)))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(as.name(value)))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~ value))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~ var, var = quote(value)))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~ var, .values = list(value)))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~ var, .values = list(var = value)))
data %>%
group_by_(key) %>%
summarise(value_sum =
lazyeval::interp(~ var, var = as.symbol(value)))
